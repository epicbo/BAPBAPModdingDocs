
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for modding Bapbap">
      
      
      
      
        <link rel="prev" href="../../getting-started/overview/">
      
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Augments - Bapbap Modding Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#augments" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Bapbap Modding Docs" class="md-header__button md-logo" aria-label="Bapbap Modding Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Bapbap Modding Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Augments
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/epicbo/BAPBAPModdingDocs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Bapbap Modding Docs" class="md-nav__button md-logo" aria-label="Bapbap Modding Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Bapbap Modding Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/epicbo/BAPBAPModdingDocs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Augments
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Augments
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hidden-augments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hidden augments
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modifying-existing-augments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Modifying existing augments
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-augments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom augments
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hidden-augments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hidden augments
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modifying-existing-augments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Modifying existing augments
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-augments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom augments
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="augments">Augments</h1>
<h2 id="overview">Overview</h2>
<p>BAPBAP uses a class called <strong>BAPBAP.Entities.Passive</strong> to apply a passive modifier to an entity. Every augment is a passive and inherits from this class, but not every passive is an augment. We also have a class called <strong>BAPBAP.Entities.PassiveSO</strong> (a passive scriptable object) which hold the configuration for every passive. Whenever a passive is applied to an entity (for example when a player select an augment), the <strong>PassiveSO</strong> object is used to create the <strong>Passive</strong> instance that is then applied to the entity. In other words, there are only ever one instance of <strong>PassiveSO</strong> for each type of passive, but there can be multiple instances of <strong>Passive</strong> at once. Of course, <strong>Passive</strong> and <strong>PassiveSO</strong> are just base classes, the actual effect of the passives are implemented in child classes of these two. </p>
<p>Every passive has a unique id (<strong>passiveId</strong>). Often we only have the <strong>passiveId</strong> to work with and need to retrieve the underlying <strong>PassiveSO</strong> object. Luckily there is the <strong>BAPBAP.Local.PassiveManager</strong> class which is often quite accessible, that in turn has a <strong>BAPBAP.Entities.PassiveLibrary</strong> object (<strong>library</strong>) that finally has an array called <strong>passives</strong> that acts as a master list for every passive in the game. For example, if we want to add a new augment to the game, we would have add them to this array (more on this later).</p>
<p>Another class that is good to know about is <strong>BAPBAP.Entities.CharPassives</strong>. It is attached to a specific character and handles things such as adding, removing and triggering effects of passives on that character. Very useful if we want to make our own augments. Finally, there's also <strong>BAPBAP.Local.AugmentManager</strong> which handles information that is specific to augments, such as, which augments are character specific, which require previous augments (eg. you can't get Firewave Cooldown before having Firewave) and so on. Also very important if we want to add more augments.</p>
<h2 id="hidden-augments">Hidden augments</h2>
<p>The game comes with a bunch of augments that exist in the code but are not enabled in game. Luckily it's fairly easy to enable them. Since they're already in the game, only the host needs the mod, which is a nice bonus. Worth noting is that the polish of them vary greatly. Some are are fully functional and can be added without issue, some work but may not have the best icon/description/visuals/balance and some are completely broken. Try them out and see which ones you like!</p>
<p>Step one is figuring out the <strong>passiveId</strong> of the augments we are interested in using. In this example, we will use ID 247, called "Critical Ability" which lets us critically hit with abilities and adds a small amount of crit chance. </p>
<p>Next step is patching <strong>AugmentManager.PreAwake</strong>. I found this method useful for this purpose because it is only called once, and at that point all augments have already been initialized, but we can still make changes to them. It is important to understand how augments are selected ingame. There are multiple "augment pools" that the game selects from. <strong>Starter</strong>, <strong>Character</strong>, <strong>Wildcard</strong> and <strong>Fallback</strong>. When you get an option to select an augment, they are picked as such:</p>
<ul>
<li>One augment is picked from <strong>Starter</strong></li>
<li>One augment is picked from <strong>Wildcard</strong></li>
<li>One augment is either from <strong>Starter</strong> or <strong>Character</strong> (50% for each)</li>
</ul>
<p>If there is no possible augment to pick for a specific augment slot, then one is picked from the <strong>Fallback</strong> pool (you may have seen some of the really weak ones that give 7% attack speed and such). This can happen if there are no augments available left in that pool to pick. With this information in mind, we have the following fields in <strong>AugmentManger</strong>:</p>
<ul>
<li><strong>allAugmentIds</strong>: A list of <strong>passiveId</strong> of all available augments. Actually, I am not sure where this is being used or whether we actually need to modify it, doesn't hurt to.</li>
<li><strong>charAugmentIds</strong>: A 2D array where the first index refers to the <strong>charId</strong> of the character, the second to the <strong>passiveId</strong>. This one is used when creating a game and setting which augments should be available. Adding an augment to this array means that it will show up in that menu under the that specific character. It is also used to build the list of character specific augments in the Training mode.</li>
<li><strong>genericAugmentIds</strong>: Similar to <strong>charAugmentIds</strong>, but for the non-character specific augments.</li>
<li><strong>selectionFallbackAugments</strong>: Here we have a list of augments in the <strong>Fallback</strong> pool. Note that these are <strong>PassiveSO</strong> and not IDs.</li>
<li><strong>startingAugmentTrees</strong>: The augments in the <strong>Starter</strong> pool, as <strong>AugmentManager.AugmentTree</strong> objects. The <strong>augment</strong> field is the augment itself (again as <strong>PassiveSO</strong> and not and ID). There are also some additional fields that can be useful, such as <strong>requiredCharacter</strong> if you only want specific characters to be able to obtain it, <strong>incompatibleAugments</strong> and also <strong>childrenAugments</strong>, which will become available when the player obtains the augment (think Firewave Cooldown after obtaining Firewave).</li>
<li><strong>wildCardAugmentTree</strong>: Very similar to <strong>startingAugmentTree</strong>, but for the <strong>Wildcard</strong> pool instead.</li>
<li><strong>wildCardRareAugmentTree</strong>: Not 100% sure what the deal is with this one, but I guess it was used in another game mode. The game seems to pick a Wildcard augment from either of them (if it can't find a valid augment in one of the wildcard trees, it will just select the other). Might as well add wildcard augments to this one just to be sure.</li>
</ul>
<p>Here's what the code could look like (I went with adding the augment to the <strong>Starter</strong> pool).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="na">[HarmonyPatch(typeof(PassiveManager), &quot;PreAwake&quot;)]</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">HiddenAugmentPatch</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="p">{</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Postfix</span><span class="p">(</span><span class="n">AugmentManager</span><span class="w"> </span><span class="n">__instance</span><span class="p">)</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">        </span><span class="kt">var</span><span class="w"> </span><span class="n">passiveId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">247</span><span class="p">;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">        </span><span class="c1">// Get a reference to the PassiveManager. All managers are available from LocalManager.Instance!</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">        </span><span class="kt">var</span><span class="w"> </span><span class="n">passiveManager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LocalManager</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">passiveManager</span><span class="p">;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">        </span><span class="c1">// Fetch the PassiveSO from the PassiveManager</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">        </span><span class="kt">var</span><span class="w"> </span><span class="n">newAugment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">passiveManager</span><span class="p">.</span><span class="n">library</span><span class="p">.</span><span class="n">passives</span><span class="p">[</span><span class="n">passiveId</span><span class="p">];</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">        </span><span class="c1">// We need a new AugmentTree object, but we&#39;ll be lazy and just clone an existing one</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="w">        </span><span class="kt">var</span><span class="w"> </span><span class="n">newAugmentTree</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">__instance</span><span class="p">.</span><span class="n">startingAugmentTrees</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">MemberwiseClone</span><span class="p">().</span><span class="n">Cast</span><span class="o">&lt;</span><span class="n">AugmentManager</span><span class="p">.</span><span class="n">AugmentTree</span><span class="o">&gt;</span><span class="p">();</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="w">        </span><span class="c1">// Let&#39;s clear its children by replacing the value with an empty array. </span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="w">        </span><span class="n">newAugmentTree</span><span class="p">.</span><span class="n">childrenAugments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Il2CppReferenceArray</span><span class="o">&lt;</span><span class="n">AugmentManager</span><span class="p">.</span><span class="n">DependencyAugment</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="w">        </span><span class="c1">// Set the augment in the augment tree to our new augment</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="w">        </span><span class="n">newAugmentTree</span><span class="p">.</span><span class="n">augment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newAugment</span><span class="p">;</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="w">        </span><span class="c1">// Add the passiveId of our agument to allAugmentIds and genericAugmentIds. </span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="w">        </span><span class="c1">// Note: since these fields are arrays (of type Il2CppStructArray&lt;int&gt;), you&#39;ll have to create a new one of &#39;length + 1&#39;,</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="w">        </span><span class="c1">// copy the values from the old one, add the new passiveId, and then override the old one. </span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="w">        </span><span class="c1">// I am using a helper I wrote for this.</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a><span class="w">        </span><span class="n">__instance</span><span class="p">.</span><span class="n">allAugmentIds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Util</span><span class="p">.</span><span class="n">AppendIntArray</span><span class="p">(</span><span class="n">__instance</span><span class="p">.</span><span class="n">allAugmentIds</span><span class="p">,</span><span class="w"> </span><span class="n">passiveId</span><span class="p">);</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a><span class="w">        </span><span class="n">__instance</span><span class="p">.</span><span class="n">genericAugmentIds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Util</span><span class="p">.</span><span class="n">AppendIntArray</span><span class="p">(</span><span class="n">__instance</span><span class="p">.</span><span class="n">genericAugmentIds</span><span class="p">,</span><span class="w"> </span><span class="n">passiveId</span><span class="p">);</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a><span class="w">        </span><span class="c1">// Similar to above, but here we&#39;re adding our new augment tree to the starting augment tree pool.</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a><span class="w">        </span><span class="n">__instance</span><span class="p">.</span><span class="n">startingAugmentTrees</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Util</span><span class="p">.</span><span class="n">AppendReferenceArray</span><span class="p">(</span><span class="n">__instance</span><span class="p">.</span><span class="n">startingAugmentTrees</span><span class="p">,</span><span class="w"> </span><span class="n">newAugmentTree</span><span class="p">);</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a><span class="p">}</span>
</code></pre></div>
<h2 id="modifying-existing-augments">Modifying existing augments</h2>
<p>TODO</p>
<h2 id="custom-augments">Custom augments</h2>
<p>TODO</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>